{"version":3,"file":"delete_ajax.min.js","sources":["../src/delete_ajax.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * TODO describe module delete_ajax\n *\n * @module     local_greetings/delete_ajax\n * @copyright  2023 true\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport ModalFactory from \"core/modal_factory\";\nimport ModalEvents from \"core/modal_events\";\nimport { call as fetchMany } from \"core/ajax\";\n\nconst deleteMessage = (id) =>\n  fetchMany([\n    {\n      methodname: \"local_greetings_delete_message\",\n      args: { id },\n    },\n  ])[0];\n\nexport const init = async ({ id }) => {\n  const modal = await ModalFactory.create({\n    type: ModalFactory.types.SAVE_CANCEL,\n    title: \"Dlete Message\",\n    body: \"You are going to delete message with id \" + id + \" ?\",\n  });\n  modal.getRoot().on(ModalEvents.save, async () => {\n    window.console.log(1323);\n    const response = await deleteMessage(id);\n    window.console.log(response);\n    window.location.href =\n      \"http://localhost:8888/moodle/moodle/local/greetings/index.php\";\n  });\n  modal.show();\n};\n"],"names":["async","id","modal","ModalFactory","create","type","types","SAVE_CANCEL","title","body","getRoot","on","ModalEvents","save","window","console","log","response","methodname","args","deleteMessage","location","href","show"],"mappings":";;;;;;;0MAmCoBA,MAAAA,WAAOC,GAAEA,eACrBC,YAAcC,uBAAaC,OAAO,CACtCC,KAAMF,uBAAaG,MAAMC,YACzBC,MAAO,gBACPC,KAAM,2CAA6CR,GAAK,OAE1DC,MAAMQ,UAAUC,GAAGC,sBAAYC,MAAMb,UACnCc,OAAOC,QAAQC,IAAI,YACbC,cAhBahB,CAAAA,KACrB,cAAU,CACR,CACEiB,WAAY,iCACZC,KAAM,CAAElB,GAAAA,OAET,GAUsBmB,CAAcnB,IACrCa,OAAOC,QAAQC,IAAIC,UACnBH,OAAOO,SAASC,KACd,mEAEJpB,MAAMqB"}